;;*****************************************************************************
;;*****************************************************************************
;;  FILENAME: USBBt_loader.inc
;;   Version: 1.50, Updated on 2011/6/28 at 6:8:6
;;  Generated by PSoC Designer 5.4.2946
;;
;;  DESCRIPTION: Include file supporting minor Bootloader compile time changes and 
;;               and um parameters
;;-----------------------------------------------------------------------------
;;  Copyright (c) Cypress Semiconductor 2011. All Rights Reserved.
;;*****************************************************************************
;;*****************************************************************************
; Set this Equate to 1 during development phase to bypass the 
; Flash verification of bootloader
DEBUG:     EQU   0
FLASHLITE: equ 0

; Change Bootloader Keys in UM parameters
KEY1:      EQU   0h
KEY2:      EQU   1h
KEY3:      EQU   2h
KEY4:      EQU   3h
KEY5:      EQU   4h
KEY6:      EQU   5h
KEY7:      EQU   6h
KEY8:      EQU   7h	

; Signature Sequence to indicate Bootload mode
SIGNATURE0:    EQU    0x95
SIGNATURE1:    EQU    0x25
SIGNATURE2:    EQU    0x33
SIGNATURE3:    EQU    0xCC

USB_Bootloader_entry_on_CSUM_fail: equ          1h

;@PSoC_UserCode_INIT@ (Do not change this line.)
;---------------------------------------------------
; Insert your custom declarations below this banner
;---------------------------------------------------


; Boot Timeout constant.  
; The timeout is based on an 8Hz Sleep interval.  So for a timeout
; of 1 second, this value has to be 8
; if this value is set to 0 the timeout will become infinite because the timeout
; count down will be IF_DEFF'ed out.

BOOT_TIMEOUT:            EQU    0	             ;set to zero to make timeout infinite default is 40(dec)
CHECKSUM_ON_CKSUMBLK:    EQU    0	             ;set to 1: Apply a checksum to the checksum block (adds compile steps and code to verify)
								                 ;set to 0: remove verification of checksum on Checksum block
STATUS_PACKET_SIZE:      EQU    64               ;adjust if desired  Host should request the same size
USB_BLDR_OPERATION_VLTG: EQU    USB_5V_OPERATION ;;USB_3V_OPERATION	 ;pick one to define expected operation voltage at bootload time
;---------------------------------------------------
; Insert your custom declarations above this banner
;---------------------------------------------------
;@PSoC_UserCode_END@ (Do not change this line.)

; Flags in Boot Status register
PROGRAM:             EQU   0x01   ; Set when Flash writing is in progress
VALID_KEY:           EQU   0x02   ; Set in bootFlag when a valid bootloader key has been
BOOT_RX_OK:             EQU   0x04
BOOT_FLASH_WRITE_DONE:  EQU   0x08

; Boot Loader Error Codes
BOOT_COMPLETED_OK:      EQU   01H
IMAGE_VERIFY_ERROR:     EQU   02H
FLASH_CHECKSUM_ERROR:   EQU   04H
FLASH_PROTECTION_ERROR: EQU   08H
COMM_CHECKSUM_ERROR:    EQU   10H
BOOTLOAD_MODE:          EQU   20H
INVALID_KEY:            EQU   40h		; Set when an invalid key has been received
INVALID_COMMAND_ERROR:  EQU   80h

; Bootloader commands
COMMAND_ENTER_BOOTLOAD:   EQU   38H
COMMAND_FLASH_WRITE:      EQU   39H
COMMAND_FLASH_VERIFY:     EQU   3AH
COMMAND_BOOTLOAD_DONE:    EQU   3BH
COMMAND_UPDATE_CHECKSUM:  EQU   3CH

; CPU Global Parametes for the bootloader
BL_CPU_CLOCK_JUST:      equ   0x02   ; CPU clock value justified  (12 MHz)
SELECT_32K_JUST:     equ   0x00   ; 32K select value justified (Internal 32KHz)
PLL_MODE_JUST:       equ   0x00   ; PLL mode value justified   (PLL Disabled)
BL_SLEEP_TIMER_JUST:    equ   0x10   ; Sleep Timer value justified (8 Hz)
AGND_BYPASS_JUST:    equ   0x00   ; AGndBypass setting justified
LVD_TBEN_JUST:       equ   0x00   ; Low Voltage Throttle-back enable justified
BTLDR_TRIP_VOLTAGE_JUST:   equ   0x07  ;Trip Voltage justified
